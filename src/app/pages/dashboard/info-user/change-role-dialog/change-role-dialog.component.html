<!--


section.modalOptions.section
    .setOptions
      .row
        p Rol de usuario actual: {{ this.user.rol.alias }}
      .row
        form.needs-validation&attributes({
            '#f': 'ngForm',
            '(ngSubmit)': 'setNewRole( f )',
            'novalidate': ''
            })
            .form-divider
              | Lista de roles
            .row
              .form-group.col-md-12.col-lg-12
                label(for="roles") Roles
                .selectric-wrapper.selectric-form-control.selectric-selectric.selectric-below.selectric-open
                  .selectric-hide-select
                    select#roles.form-control.selectric(ngModel, required, type="text", name="roles", tabindex="-1", (change)="selectRole($event.target.value)")
                      option( *ngFor="let item of this.roles", [value]="item | json" ) {{item.alias}}
                    .invalid-feedback
                      | Por favor, debes seleccionar un Rol
              .form-group.col-md-12.col-lg-12( *ngIf="this.setEnrouterOwner == true" )
                .card(*ngIf='this.enrutadores == null || this.enrutadores.length == 0')
                  .card-body.p-0
                    app-hero( [type]="'primary'", [titulo]="'No hay enrutadores en este momento'", [subTitulo]="'Intente más tarde'" )

                .card( *ngIf='this.enrutadores != null && this.enrutadores.length > 0' )
                  .card-header
                    h4.section-title Asigna el usuario cobrador a un enrutador
                    .card-header-form
                      form.needs-validation( #f="ngForm", (ngSubmit)="this.search( f )" )
                        .input-group
                          input.form-control( required ,ngModel ,type="text", name="arg" , placeholder="Busqueda")
                          .input-group-btn
                            button.noBorder.btn.btn-primary(type="submit", style="border-radius: 0!important")
                              i.fas.fa-search
                            button.btn.btn-primary(type="button", (click)="this.getEnrouters(1)") Todos
                              //- i.fas.fa-search
                          .invalid-feedback
                            | Por favor, escribe un argumento de búsqueda
                  .card-body.p-0
                    .table-responsive
                      table.table.table-striped.table-hover
                        tbody
                          tr

                            th Nombre
                            th Apellido
                            th Estatus
                            th Detalles
                          tr(*ngFor='let it2 of this.enrutadores; let i = index', (click)="this.selectItem( it2._id )", [ngClass]="{ 'tableSelected' : this.enrutadorSelected === it2._id }")

                            td
                              p {{ it2.name }}
                            td
                              p {{ it2.last_name }}
                            td
                              .badge.badge-success {{ it2.status }}
                            td
                              a.btn.btn-primary([routerLink]="['/dashboard/infoUser', it2._id ]", routerLinkActive="active") Detalles

                  app-paginator(*ngIf="( this.paginator != null ) && ( this.paginator.pageCount > 1 )", [paginator]="this.paginator", (newPageResponse)="this.newPageResponse($event)")

            .row
              .spaceButtons
                button.btn.btn-primary( type="submit" )
                  i.fas.fa-check
                  | Aceptar
                button.btn.btn-primary( type="button", (click)="this.closeDialog()" )
                  i.fas.fa-times
                  | Cerrar
 -->




 <section class="modalOptions section">
  <div class="setOptions">
      <div class="row">
          <p>Rol de usuario actual: {{ this.user.rol.alias }}</p>
      </div>
      <div class="row">
          <form class="needs-validation" #f="ngForm" (ngSubmit)="setNewRole( f )" novalidate="">
              <div class="form-divider">Lista de roles</div>
              <div class="row">
                  <div class="form-group col-md-12 col-lg-12"><label for="roles">Roles</label>
                      <div class="selectric-wrapper selectric-form-control selectric-selectric selectric-below selectric-open">
                          <div class="selectric-hide-select"><select class="form-control selectric" id="roles" ngModel="ngModel" required="required" type="text" name="roles" tabindex="-1" (change)="selectRole($event.target.value)">
                                  <option *ngFor="let item of this.roles" [value]="item | json">{{item.alias}}</option>
                              </select>
                              <div class="invalid-feedback">Por favor, debes seleccionar un Rol</div>
                          </div>
                      </div>
                  </div>
                  <div class="form-group col-md-12 col-lg-12" *ngIf="this.setEnrouterOwner == true">
                      <div class="card" *ngIf="this.enrutadores == null || this.enrutadores.length == 0">
                          <div class="card-body p-0">
                              <app-hero [type]="'primary'" [titulo]="'No hay enrutadores en este momento'" [subTitulo]="'Intente más tarde'"></app-hero>
                          </div>
                      </div>
                      <div class="card" *ngIf="this.enrutadores != null && this.enrutadores.length > 0">
                          <div class="card-header">
                              <h4 class="section-title">Asigna el usuario cobrador a un enrutador</h4>
                              <div class="card-header-form">
                                  <form class="needs-validation" #f="ngForm" (ngSubmit)="this.search( f )">
                                      <div class="input-group"><input class="form-control" required="required" ngModel="ngModel" type="text" name="arg" placeholder="Busqueda" />
                                          <div class="input-group-btn"><button class="noBorder btn btn-primary" type="submit" style="border-radius: 0!important"><i class="fas fa-search"></i></button><button class="btn btn-primary" type="button" (click)="this.getEnrouters(1)">Todos</button></div>
                                          <div class="invalid-feedback">Por favor, escribe un argumento de búsqueda</div>
                                      </div>
                                  </form>
                              </div>
                          </div>
                          <div class="card-body p-0">
                              <div class="table-responsive">
                                  <table class="table table-striped table-hover">
                                      <tbody>
                                          <tr>
                                              <th>Nombre</th>
                                              <th>Apellido</th>
                                              <th>Estatus</th>
                                              <th>Detalles</th>
                                          </tr>
                                          <tr *ngFor="let it2 of this.enrutadores; let i = index" (click)="this.selectItem( it2._id )" [ngClass]="{ 'tableSelected' : this.enrutadorSelected === it2._id }">
                                              <td>
                                                  <p>{{ it2.name }}</p>
                                              </td>
                                              <td>
                                                  <p>{{ it2.last_name }}</p>
                                              </td>
                                              <td>
                                                  <div class="badge badge-success">{{ it2.status }}</div>
                                              </td>
                                              <td><a class="btn btn-primary" [routerLink]="['/dashboard/infoUser', it2._id ]" routerLinkActive="active">Detalles</a></td>
                                          </tr>
                                      </tbody>
                                  </table>
                              </div>
                          </div>
                          <app-paginator *ngIf="( this.paginator != null ) && ( this.paginator.pageCount &gt; 1 )" [paginator]="this.paginator" (newPageResponse)="this.newPageResponse($event)"></app-paginator>
                      </div>
                  </div>
              </div>
              <div class="row">
                  <div class="spaceButtons"><button class="btn btn-primary" type="submit"><i class="fas fa-check"></i>Aceptar</button><button class="btn btn-primary" type="button" (click)="this.closeDialog()"><i class="fas fa-times"></i>Cerrar</button></div>
              </div>
          </form>
      </div>
  </div>
</section>